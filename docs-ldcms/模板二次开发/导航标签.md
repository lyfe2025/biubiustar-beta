# 导航标签

> 用于网站的导航栏，对应后台的"栏目管理"

## 基本使用方法

```html
{ld:nav} 
<a href="{$item.url}">{$item.name}</a> 
{/ld:nav}
```

## 调用参数

| 参数 | 是否必填 | 说明 |
|------|----------|------|
| pid | 否 | 父栏目ID，不填写默认为0，则调用顶级栏目 |
| limit | 否 | 调用数量 |
| alias | 否 | 默认为"item",代表循环列表的变量名称。 |
| empty | 否 | 数列为空时显示的数据 |
| key | 否 | 列表循环键名变量,默认为i |
| mod | 否 | 取模值，常用于控制换行，默认为2 |

## 常用字段

> 如需使用其他的字段请至后台栏目管理下查找对应字段
> 默认为`{$item.id}` 如果`alias`修改别名为'vo', 那么则变成`{$vo.id}`

| 字段名 | 说明 |
|--------|------|
| `{$item.id}` | 栏目ID |
| `{$item.url}` | 链接 |
| `{$item.name}` | 名称 |
| `{$item.image}` | 栏目缩略图 |
| `{$item.ename}` | 英文名称 |
| `{$item.seo_description}` | 栏目描述 |

## 常用示例

### 基础导航与二级导航

```html
{ld:nav}
<li class="{if $topid==$item['id']} active {/if}">
    <a href="{$item.url}">{$item.name}</a>
    <ul>
        {ld:nav pid="$item['id']"}
        <li>
            <a href="{$item.url}">{$item.name}</a>
        </li>
        {/ld:nav}
    </ul>
</li>
{/ld:nav}
```

### 三级导航调用

```html
{ld:nav}
<li>
    <a href="{$item.url}" title="{$item.name}">{$item.name}</a>
    <div class="ernav">
        <div class="ernavitem">
            {ld:nav pid="$item['id']" alias="nav2"} //二级导航循环
            <dl>
                <dt>
                    <a href="{$nav2.url}" title="{$nav2.name}">{$nav2.name}</a>
                </dt>
                {ld:nav pid="$nav2['id']" alias="nav3"} //三级导航循环
                <dd>
                    <a href="{$nav3.url}" title="{$nav3.name}">{$nav3.name}</a>
                </dd>
                {/ld:nav}
            </dl>
            {/ld:nav}
        </div>
    </div>
</li>
{/ld:nav}
```

### 判断是否有子栏目

```html
{ld:nav }
//判断是否有子栏目
{if $item['child']>0}
{ld:nav pid="$item['id']" key="li"}
<li>
    <a href="{$li.url}">{$li.name}</a>
</li>
{/ld:nav}
{/if}
{/ld:nav}
```

### 判断第一个栏目默认高亮

```html
{ld:nav pid='166'}
<a class="{if $i==1}active{/if} idxnewsnav{$i}" href="javascript:;">
    {$item.name}
</a>
{/ld:nav}
```

## 重要注意事项

> **注意：`{$key}`从0开始计数，如0,1,2,3... ; `{$i}`从1开始计数，如1,2,3... ;**
> 
> 1、导航高亮锁定使用`{if $topid==$item['id']} active {/if}` "`topid`表示当前页面的顶级栏目ID"
> 2、子栏目导航则是在导航标签上添加`pid`属性 `pid="$item['id']"`

## 实际应用示例

### 1. 响应式主导航

```html
<nav class="main-navigation">
    <div class="nav-container">
        <!-- Logo -->
        <div class="nav-logo">
            <a href="{:addon_url('ldcms/index/index')}">
                <img src="{$ld.site_logo}" alt="{$ld.site_name}">
            </a>
        </div>
        
        <!-- PC端导航 -->
        <ul class="nav-menu desktop-nav">
            <li class="{if !$category}active{/if}">
                <a href="{:addon_url('ldcms/index/index')}">首页</a>
            </li>
            {ld:nav limit="8"}
            <li class="{if $topid==$item.id}active{/if} {if $item.child > 0}has-submenu{/if}">
                <a href="{$item.url}">{$item.name}</a>
                {if $item.child > 0}
                <ul class="submenu">
                    {ld:nav pid="$item.id"}
                    <li class="{if $category.id==$item.id}active{/if}">
                        <a href="{$item.url}">{$item.name}</a>
                    </li>
                    {/ld:nav}
                </ul>
                {/if}
            </li>
            {/ld:nav}
        </ul>
        
        <!-- 移动端菜单按钮 -->
        <div class="mobile-menu-toggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
    
    <!-- 移动端导航 -->
    <div class="mobile-nav">
        <ul class="mobile-nav-menu">
            <li class="{if !$category}active{/if}">
                <a href="{:addon_url('ldcms/index/index')}">首页</a>
            </li>
            {ld:nav}
            <li class="{if $topid==$item.id}active{/if}">
                <a href="{$item.url}">{$item.name}</a>
                {if $item.child > 0}
                <ul class="mobile-submenu">
                    {ld:nav pid="$item.id"}
                    <li>
                        <a href="{$item.url}">{$item.name}</a>
                    </li>
                    {/ld:nav}
                </ul>
                {/if}
            </li>
            {/ld:nav}
        </ul>
    </div>
</nav>
```

### 2. 面包屑导航

```html
<div class="breadcrumb">
    <div class="container">
        <ol class="breadcrumb-list">
            <li><a href="{:addon_url('ldcms/index/index')}">首页</a></li>
            {if $category}
            {ld:position}
            <li><a href="{$item.url}">{$item.name}</a></li>
            {/ld:position}
            {/if}
            {if $content}
            <li class="active">{$content.title}</li>
            {/if}
        </ol>
    </div>
</div>
```

### 3. 侧边栏导航

```html
<div class="sidebar-nav">
    <h3 class="sidebar-title">栏目导航</h3>
    <ul class="sidebar-menu">
        {ld:nav pid="0" limit="10"}
        <li class="{if $topid==$item.id}active{/if} {if $item.child > 0}has-children{/if}">
            <a href="{$item.url}">
                <i class="nav-icon {$item.icon|default='fas fa-folder'}"></i>
                <span>{$item.name}</span>
                {if $item.child > 0}
                <i class="expand-icon fas fa-chevron-down"></i>
                {/if}
            </a>
            {if $item.child > 0}
            <ul class="submenu">
                {ld:nav pid="$item.id"}
                <li class="{if $category.id==$item.id}active{/if}">
                    <a href="{$item.url}">{$item.name}</a>
                </li>
                {/ld:nav}
            </ul>
            {/if}
        </li>
        {/ld:nav}
    </ul>
</div>
```

### 4. Mega Menu 大型菜单

```html
<nav class="mega-nav">
    <ul class="mega-menu">
        {ld:nav limit="6"}
        <li class="mega-item {if $topid==$item.id}active{/if}">
            <a href="{$item.url}" class="mega-link">{$item.name}</a>
            {if $item.child > 0}
            <div class="mega-dropdown">
                <div class="mega-container">
                    <div class="mega-columns">
                        {ld:nav pid="$item.id" limit="12"}
                        <div class="mega-column">
                            <h4 class="mega-title">
                                <a href="{$item.url}">{$item.name}</a>
                            </h4>
                            {if $item.child > 0}
                            <ul class="mega-list">
                                {ld:nav pid="$item.id" limit="8"}
                                <li><a href="{$item.url}">{$item.name}</a></li>
                                {/ld:nav}
                            </ul>
                            {/if}
                            {if $item.image}
                            <div class="mega-image">
                                <a href="{$item.url}">
                                    <img src="{$item.image}" alt="{$item.name}">
                                </a>
                            </div>
                            {/if}
                        </div>
                        {/ld:nav}
                    </div>
                </div>
            </div>
            {/if}
        </li>
        {/ld:nav}
    </ul>
</nav>
```

### 5. 垂直手风琴导航

```html
<div class="accordion-nav">
    {ld:nav}
    <div class="accordion-item {if $topid==$item.id}active{/if}">
        <div class="accordion-header">
            <a href="{$item.url}" class="accordion-link">
                <span class="nav-text">{$item.name}</span>
                {if $item.child > 0}
                <span class="accordion-toggle">
                    <i class="fas fa-plus"></i>
                </span>
                {/if}
            </a>
        </div>
        {if $item.child > 0}
        <div class="accordion-content">
            <ul class="accordion-submenu">
                {ld:nav pid="$item.id"}
                <li class="{if $category.id==$item.id}current{/if}">
                    <a href="{$item.url}">{$item.name}</a>
                </li>
                {/ld:nav}
            </ul>
        </div>
        {/if}
    </div>
    {/ld:nav}
</div>
```

### 6. 标签式导航

```html
<div class="tab-navigation">
    <ul class="nav-tabs">
        {ld:nav pid="0" limit="6"}
        <li class="nav-tab {if $topid==$item.id}active{/if}">
            <a href="{$item.url}" class="tab-link">
                {if $item.image}
                <img src="{$item.image}" alt="{$item.name}" class="tab-icon">
                {/if}
                <span class="tab-text">{$item.name}</span>
                {if $item.seo_description}
                <small class="tab-desc">{$item.seo_description|ld_str_cut="20"}</small>
                {/if}
            </a>
        </li>
        {/ld:nav}
    </ul>
</div>
```

### 7. 底部导航（移动端）

```html
<div class="bottom-nav">
    <div class="bottom-nav-items">
        <a href="{:addon_url('ldcms/index/index')}" 
           class="bottom-nav-item {if !$category}active{/if}">
            <i class="nav-icon fas fa-home"></i>
            <span class="nav-text">首页</span>
        </a>
        {ld:nav limit="3"}
        <a href="{$item.url}" 
           class="bottom-nav-item {if $topid==$item.id}active{/if}">
            <i class="nav-icon {$item.icon|default='fas fa-th-large'}"></i>
            <span class="nav-text">{$item.name}</span>
        </a>
        {/ld:nav}
        <a href="{:addon_url('ldcms/user/index')}" class="bottom-nav-item">
            <i class="nav-icon fas fa-user"></i>
            <span class="nav-text">我的</span>
        </a>
    </div>
</div>
```

### 8. 多语言导航

```html
<nav class="multilang-nav">
    <ul class="nav-menu">
        <li class="{if !$category}active{/if}">
            <a href="{:addon_url('ldcms/index/index')}">
                {if $lang == 'en'}Home{else}首页{/if}
            </a>
        </li>
        {ld:nav}
        <li class="{if $topid==$item.id}active{/if}">
            <a href="{$item.url}">
                {if $lang == 'en' && $item.ename}
                    {$item.ename}
                {else}
                    {$item.name}
                {/if}
            </a>
            {if $item.child > 0}
            <ul class="submenu">
                {ld:nav pid="$item.id"}
                <li>
                    <a href="{$item.url}">
                        {if $lang == 'en' && $item.ename}
                            {$item.ename}
                        {else}
                            {$item.name}
                        {/if}
                    </a>
                </li>
                {/ld:nav}
            </ul>
            {/if}
        </li>
        {/ld:nav}
    </ul>
</nav>
```

## CSS样式参考

```css
/* 基础导航样式 */
.main-navigation {
    background: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.nav-menu {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
}

.nav-menu > li {
    position: relative;
}

.nav-menu > li > a {
    display: block;
    padding: 20px;
    color: #333;
    text-decoration: none;
    transition: all 0.3s;
}

.nav-menu > li:hover > a,
.nav-menu > li.active > a {
    color: #007bff;
    background: #f8f9fa;
}

/* 下拉菜单样式 */
.submenu {
    position: absolute;
    top: 100%;
    left: 0;
    background: #fff;
    min-width: 200px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s;
    z-index: 1000;
}

.nav-menu > li:hover .submenu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.submenu li a {
    display: block;
    padding: 12px 20px;
    color: #666;
    text-decoration: none;
    border-bottom: 1px solid #f0f0f0;
}

.submenu li a:hover {
    background: #f8f9fa;
    color: #007bff;
}

/* 移动端导航样式 */
.mobile-menu-toggle {
    display: none;
    flex-direction: column;
    cursor: pointer;
}

.mobile-menu-toggle span {
    width: 25px;
    height: 3px;
    background: #333;
    margin: 3px 0;
    transition: 0.3s;
}

.mobile-nav {
    display: none;
    background: #fff;
    border-top: 1px solid #eee;
}

.mobile-nav-menu {
    list-style: none;
    margin: 0;
    padding: 0;
}

.mobile-nav-menu li a {
    display: block;
    padding: 15px 20px;
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #f0f0f0;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .desktop-nav {
        display: none;
    }
    
    .mobile-menu-toggle {
        display: flex;
    }
    
    .mobile-nav.active {
        display: block;
    }
}

/* 侧边栏导航样式 */
.sidebar-nav {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
}

.sidebar-title {
    background: #007bff;
    color: white;
    margin: 0;
    padding: 15px 20px;
    font-size: 16px;
}

.sidebar-menu {
    list-style: none;
    margin: 0;
    padding: 0;
}

.sidebar-menu li a {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #f0f0f0;
    transition: all 0.3s;
}

.sidebar-menu li.active > a {
    background: #007bff;
    color: white;
}

.nav-icon {
    margin-right: 10px;
    width: 16px;
}

.expand-icon {
    margin-left: auto;
    transition: transform 0.3s;
}

.sidebar-menu li.active .expand-icon {
    transform: rotate(180deg);
}
```

---

*文档最后更新时间：2024-04-03 15:10:08*
*著作权归应用插件开发者所有，未经许可，禁止转载、复制此文档的任何内容。*