# 多条件筛选标签

> 针对内容列表页的多条件筛选
> 如果是多语言，需要将中文的属性文字修改为英文的（可以使用语言包的功能替换属性文字）

## 完整示例

```html
<!-- title_text 可以修改显示的文字，默认为全部， -->
{ld:filter mid="$category['mid']" title_text="All"}
<div class="tabs-group">
    <div class="title">{$item.title}:</div>
    <ul class="content clearfix">
        //遍历属性 {volist name="$item.content" id="li"}
        <li class="{$li.active?'active':''}">
            <a href="{$li.url}">{$li.title}</a>
        </li>
        {/volist}
    </ul>
</div>
{/ld:filter}
```

## 调用参数

| 参数 | 是否必填 | 说明 |
|------|----------|------|
| mid | 是 | 内容模型ID |
| alias | 否 | 默认为"item",代表循环列表的变量名称。 |
| empty | 否 | 数列为空时显示的数据 |
| key | 否 | 列表循环键名变量,默认为i |
| mod | 否 | 取模值，常用于控制换行，默认为2 |
| title_text | 否 | 默认："全部"，可以修改显示文字 |

## 常用字段

> 默认为`{$item.id}` 如果`alias`修改别名为'vo', 那么则变成`{$vo.id}`

| 字段 | 描述 |
|------|------|
| `{$item.title}` | 条件名称 |
| `{$item.content}` | 筛选属性数组 ，字段请看下方属性字段 |

### 属性字段

> 属性字段属于嵌套的内容，在使用是需要将`$item.content`放入`{ld:filter }`标签循环遍历。

| 字段 | 描述 |
|------|------|
| `{$li.url}` | 属性链接 |
| `{$li.active}` | 是否当前选中属性 |
| `{$li.title}` | 属性名称 |

## 属性调用示例

```html
//遍历属性数组 {volist name="$item.content" id="li"}
<li class="{$li.active?'active':''}">
    <a href="{$li.url}">{:__($li.title)}</a>
</li>
{/volist}
```

## 多语言替换文字

> 使用语言包替换的方式

**第一步，调用语言包函数`{:__($item.title)}`**

```html
{ld:filter mid="$category['mid']" title_text="All"}
<div class="tabs-group">
    <div class="title">{:__($item.title)}:</div>
    <ul class="content clearfix">
        {volist name="$item.content" id="li"}
        <li class="{$li.active?'active':''}">
            <a href="{$li.url}">{:__($li.title)}</a>
        </li>
        {/volist}
    </ul>
</div>
{/ld:filter}
```

**第二步，编写语言包，2种方式。**

在网站后台**多语言管理**中修改对应的语言文件

再刷新页面，属性的文字就变了，修改属性的文字的方法也一样

## 实际应用示例

### 1. 产品筛选页面
```html
<div class="product-filter">
    <h3>产品筛选</h3>
    {ld:filter mid="2" title_text="全部"}
    <div class="filter-group">
        <label class="filter-label">{$item.title}：</label>
        <div class="filter-options">
            {volist name="$item.content" id="option"}
            <a href="{$option.url}" class="filter-option {$option.active?'active':''}">
                {$option.title}
            </a>
            {/volist}
        </div>
    </div>
    {/ld:filter}
</div>
```

### 2. 新闻分类筛选
```html
<div class="news-filter">
    {ld:filter mid="1"}
    <div class="filter-category">
        <span class="category-name">{$item.title}：</span>
        <ul class="category-list">
            {volist name="$item.content" id="cat"}
            <li>
                <a href="{$cat.url}" 
                   class="category-link {$cat.active?'current':''}">
                    {$cat.title}
                </a>
            </li>
            {/volist}
        </ul>
    </div>
    {/ld:filter}
</div>
```

### 3. 响应式筛选器
```html
<div class="responsive-filter">
    {ld:filter mid="$category['mid']"}
    <div class="filter-section">
        <h4 class="filter-title">{$item.title}</h4>
        <div class="filter-grid">
            {volist name="$item.content" id="item_filter"}
            <div class="filter-item">
                <input type="radio" 
                       id="filter_{$item_filter.id}" 
                       name="filter_{$item.title}" 
                       {$item_filter.active?'checked':''}>
                <label for="filter_{$item_filter.id}" 
                       onclick="window.location.href='{$item_filter.url}'">
                    {$item_filter.title}
                </label>
            </div>
            {/volist}
        </div>
    </div>
    {/ld:filter}
</div>
```

### 4. 移动端筛选
```html
<div class="mobile-filter">
    <div class="filter-toggle" onclick="toggleFilter()">
        <i class="icon-filter"></i>
        <span>筛选</span>
    </div>
    
    <div class="filter-panel" id="filterPanel">
        {ld:filter mid="$category['mid']"}
        <div class="filter-block">
            <div class="filter-header">
                <h5>{$item.title}</h5>
            </div>
            <div class="filter-body">
                {volist name="$item.content" id="mobile_filter"}
                <a href="{$mobile_filter.url}" 
                   class="filter-tag {$mobile_filter.active?'selected':''}">
                    {$mobile_filter.title}
                </a>
                {/volist}
            </div>
        </div>
        {/ld:filter}
        
        <div class="filter-actions">
            <button onclick="resetFilter()">重置</button>
            <button onclick="applyFilter()">确定</button>
        </div>
    </div>
</div>
```

### 5. Ajax筛选
```html
<div class="ajax-filter" data-mid="{$category.mid}">
    {ld:filter mid="$category['mid']"}
    <div class="filter-wrap">
        <label class="filter-label">{$item.title}：</label>
        <select class="filter-select" name="filter_{$item.title}">
            {volist name="$item.content" id="select_option"}
            <option value="{$select_option.url}" 
                    {$select_option.active?'selected':''}>
                {$select_option.title}
            </option>
            {/volist}
        </select>
    </div>
    {/ld:filter}
</div>

<script>
$(document).on('change', '.filter-select', function() {
    var url = $(this).val();
    if (url) {
        // Ajax加载内容
        loadFilteredContent(url);
    }
});

function loadFilteredContent(url) {
    $.get(url, function(data) {
        $('#content-area').html(data);
    });
}
</script>
```

## CSS样式参考

```css
/* 基础筛选样式 */
.product-filter {
    background: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.filter-group {
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}

.filter-label {
    min-width: 80px;
    font-weight: 500;
    color: #333;
    margin-right: 15px;
}

.filter-options {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.filter-option {
    padding: 6px 15px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 20px;
    text-decoration: none;
    color: #666;
    font-size: 14px;
    transition: all 0.3s;
}

.filter-option:hover {
    border-color: #007bff;
    color: #007bff;
}

.filter-option.active {
    background: #007bff;
    border-color: #007bff;
    color: white;
}

/* 移动端筛选样式 */
.mobile-filter {
    position: relative;
}

.filter-toggle {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    cursor: pointer;
}

.filter-panel {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    z-index: 1000;
}

.filter-tag {
    display: inline-block;
    padding: 4px 12px;
    margin: 2px;
    background: #e9ecef;
    border-radius: 15px;
    text-decoration: none;
    color: #495057;
    font-size: 12px;
}

.filter-tag.selected {
    background: #007bff;
    color: white;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .filter-group {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .filter-label {
        margin-bottom: 8px;
    }
    
    .filter-options {
        width: 100%;
    }
}
```

---

*文档最后更新时间：2024-04-03 15:10:08*
*著作权归应用插件开发者所有，未经许可，禁止转载、复制此文档的任何内容。*