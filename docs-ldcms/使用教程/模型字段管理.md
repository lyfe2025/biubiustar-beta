# 模型字段管理

> 模型字段是定义内容数据结构的核心，通过字段管理可以灵活定制各种类型的内容表单

## 字段管理概述

### 字段的作用

模型字段决定了：
- 内容添加时的表单结构
- 数据存储的格式和类型
- 前台展示的数据内容
- 数据验证的规则

### 字段管理入口

1. 进入"模型管理"
2. 选择对应的模型
3. 点击"字段管理"
4. 可以添加、编辑、删除字段

## 字段类型详解

### 文本类字段

#### 单行文本（text）
- **适用场景**：标题、关键词、简短描述
- **参数配置**：
  - 最大长度：字符数限制
  - 默认值：预设内容
  - 占位符：输入提示文字

#### 多行文本（textarea）
- **适用场景**：较长的文本内容、描述信息
- **参数配置**：
  - 行数：文本框高度
  - 列数：文本框宽度
  - 最大长度：字符数限制

#### 富文本编辑器（editor）
- **适用场景**：文章内容、详细介绍
- **参数配置**：
  - 编辑器类型：CKEditor、UEditor等
  - 工具栏配置：可用的编辑工具
  - 高度设置：编辑器高度

### 选择类字段

#### 单选框（radio）
- **适用场景**：状态选择、类型选择
- **参数配置**：
  - 选项列表：key=value格式
  - 默认选中：预选项
  - 显示方式：水平或垂直排列

#### 复选框（checkbox）
- **适用场景**：多属性选择、标签选择
- **参数配置**：
  - 选项列表：多个选项
  - 默认选中：预选项
  - 分隔符：多选值的分隔符

#### 下拉选择（select）
- **适用场景**：分类选择、地区选择
- **参数配置**：
  - 选项来源：手动输入或数据表关联
  - 空选项：是否显示"请选择"
  - 多选模式：是否支持多选

### 上传类字段

#### 单图上传（image）
- **适用场景**：缩略图、头像、logo
- **参数配置**：
  - 图片尺寸：宽度和高度限制
  - 文件大小：最大文件大小
  - 图片格式：允许的文件格式
  - 水印设置：是否添加水印

#### 多图上传（images）
- **适用场景**：产品图片、相册、轮播图
- **参数配置**：
  - 最大数量：允许上传的图片数量
  - 图片尺寸：单张图片的尺寸限制
  - 排序方式：图片的排列顺序
  - 缩略图：是否生成缩略图

#### 文件上传（file）
- **适用场景**：附件下载、文档上传
- **参数配置**：
  - 文件类型：允许的文件扩展名
  - 文件大小：最大文件大小
  - 存储路径：文件保存的目录
  - 下载权限：是否需要权限验证

### 日期时间字段

#### 日期选择（date）
- **适用场景**：发布日期、活动日期
- **参数配置**：
  - 日期格式：显示格式
  - 默认值：当前日期或指定日期
  - 日期范围：可选择的日期范围

#### 时间选择（time）
- **适用场景**：活动时间、营业时间
- **参数配置**：
  - 时间格式：12小时或24小时制
  - 精度设置：到分钟或秒
  - 默认值：默认时间

#### 日期时间（datetime）
- **适用场景**：创建时间、更新时间
- **参数配置**：
  - 显示格式：日期时间的显示格式
  - 时区设置：时区配置
  - 自动更新：是否自动更新为当前时间

### 数值类字段

#### 数字输入（number）
- **适用场景**：价格、数量、评分
- **参数配置**：
  - 数值范围：最小值和最大值
  - 小数位数：小数点后位数
  - 步长：数值增减的步长
  - 单位：数值的单位

#### 货币金额（money）
- **适用场景**：商品价格、费用
- **参数配置**：
  - 货币符号：¥、$、€等
  - 小数位数：通常为2位
  - 千分位：是否显示千分位分隔符

### 关联类字段

#### 数据关联（relation）
- **适用场景**：相关产品、相关文章
- **参数配置**：
  - 关联模型：目标数据表
  - 显示字段：显示的字段名
  - 选择方式：单选或多选
  - 过滤条件：数据筛选条件

## 字段属性设置

### 基本属性

| 属性名称 | 说明 | 示例 |
|----------|------|------|
| 字段名称 | 显示给用户的标签 | "产品价格"、"文章标题" |
| 字段标识 | 程序调用的字段名 | price、title |
| 字段类型 | 数据类型和输入方式 | text、image、number |
| 默认值 | 字段的初始值 | 空值或预设值 |

### 验证规则

| 验证类型 | 说明 | 配置示例 |
|----------|------|----------|
| 必填验证 | 是否为必填字段 | required |
| 长度验证 | 字符长度限制 | min:2,max:100 |
| 格式验证 | 数据格式要求 | email、url、phone |
| 正则验证 | 自定义正则表达式 | /^[0-9]+$/ |
| 数值验证 | 数值范围验证 | between:1,1000 |

### 显示控制

| 控制选项 | 说明 | 用途 |
|----------|------|------|
| 列表显示 | 是否在列表页显示 | 控制后台列表的显示字段 |
| 详情显示 | 是否在详情页显示 | 控制前台详情页的显示 |
| 搜索支持 | 是否支持搜索 | 是否可以作为搜索条件 |
| 排序支持 | 是否支持排序 | 是否可以作为排序字段 |

## 字段操作

### 添加字段

1. 点击"添加字段"按钮
2. 填写字段基本信息
3. 选择字段类型
4. 配置字段参数
5. 设置验证规则
6. 保存字段设置

### 编辑字段

1. 找到要编辑的字段
2. 点击"编辑"按钮
3. 修改字段配置
4. 保存更改
5. 清除相关缓存

### 删除字段

1. 选择要删除的字段
2. 点击"删除"按钮
3. 确认删除操作
4. 系统自动清理相关数据

### 字段排序

- 通过拖拽调整字段顺序
- 字段顺序影响表单显示顺序
- 保存排序后生效

## 注意事项

### 数据安全

1. **备份数据**：删除字段前先备份数据
2. **影响评估**：评估字段删除的影响范围
3. **权限控制**：限制字段管理的操作权限

### 性能考虑

1. **字段数量**：避免添加过多字段
2. **索引优化**：为常用查询字段添加索引
3. **缓存策略**：合理设置字段缓存

### 用户体验

1. **表单布局**：合理安排字段顺序
2. **提示信息**：提供清晰的字段说明
3. **验证提示**：设置友好的验证错误提示

---
*文档最后更新时间：2024-01-15*